[{"C:\\Users\\goles\\OneDrive - Vermantia Productions S.A\\Επιφάνεια εργασίας\\ReactProjects\\Cap-Ui\\Orchestrator\\orchestrator\\src\\reportWebVitals.js":"1","C:\\Users\\goles\\OneDrive - Vermantia Productions S.A\\Επιφάνεια εργασίας\\ReactProjects\\Cap-Ui\\Orchestrator\\orchestrator\\src\\App.js":"2","C:\\Users\\goles\\OneDrive - Vermantia Productions S.A\\Επιφάνεια εργασίας\\ReactProjects\\Cap-Ui\\Orchestrator\\orchestrator\\src\\Chat.js":"3","C:\\Users\\goles\\OneDrive - Vermantia Productions S.A\\Επιφάνεια εργασίας\\ReactProjects\\Cap-Ui\\Orchestrator\\orchestrator\\src\\index.js":"4","C:\\Users\\goles\\OneDrive - Vermantia Productions S.A\\Επιφάνεια εργασίας\\ReactProjects\\Cap-Ui\\Orchestrator\\orchestrator\\src\\BackendUrls.js":"5"},{"size":362,"mtime":1606127829863,"results":"6","hashOfConfig":"7"},{"size":266,"mtime":1607421984860,"results":"8","hashOfConfig":"7"},{"size":2329,"mtime":1607523125106,"results":"9","hashOfConfig":"7"},{"size":496,"mtime":1607421927065,"results":"10","hashOfConfig":"7"},{"size":514,"mtime":1607430341409,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1b5egwt",{"filePath":"14","messages":"15","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"16","messages":"17","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\goles\\OneDrive - Vermantia Productions S.A\\Επιφάνεια εργασίας\\ReactProjects\\Cap-Ui\\Orchestrator\\orchestrator\\src\\reportWebVitals.js",[],"C:\\Users\\goles\\OneDrive - Vermantia Productions S.A\\Επιφάνεια εργασίας\\ReactProjects\\Cap-Ui\\Orchestrator\\orchestrator\\src\\App.js",["23"],"C:\\Users\\goles\\OneDrive - Vermantia Productions S.A\\Επιφάνεια εργασίας\\ReactProjects\\Cap-Ui\\Orchestrator\\orchestrator\\src\\Chat.js",["24","25","26","27"],"import React, {useState, useEffect, useRef} from 'react'\r\nimport axios from 'axios'\r\nimport {apiBaseUrl} from './BackendUrls'\r\nimport {HubConnectionBuilder, LogLevel, HttpTransportType} from '@microsoft/signalr'\r\n\r\nconst Chat = () => {\r\n    const [connection, setConnection] = useState(null)\r\n    const [events, setEvents] = useState([])\r\n    const lastEvent = useRef(null)\r\n\r\n    lastEvent.current = events\r\n    let foo = {\r\n        username: 'vuser',\r\n        password:'kalimera'\r\n    }\r\n    let payload = {\r\n        eventId: \"10\",\r\n        eventStartTime: \"2020-12-08T07:40:34.879Z\",\r\n        feedCode: \"PA_HR_IN\",\r\n        eventType: \"string\",\r\n        eventStatus: \"Parading\"\r\n    }\r\n    console.log('URL is',apiBaseUrl)\r\n\r\n//     useEffect(()=>{\r\n//         axios.post(apiBaseUrl+'hubs/events')\r\n//         //axios.post('https://api.exchangeratesapi.io/latest?base=USD', {\r\n//         //    headers: {\"Access-Control-Allow-Origin\": \"*\"}\r\n//    // })\r\n//         .then(resp => {\r\n//           if(resp.status === 200){\r\n//             // call auth function from context provider\r\n//             console.log('ALL IS GOOD')\r\n//           }\r\n//         })\r\n//         .catch(error => {\r\n//           console.log('Chat.js | axios request error status!',error)\r\n//         })\r\n\r\n       \r\n//      },[])\r\n\r\n    \r\n \r\n    useEffect(()=>{\r\n        const newConnection = new HubConnectionBuilder()\r\n            .withUrl(apiBaseUrl+'hubs/events')\r\n            .withAutomaticReconnect()\r\n            .configureLogging(LogLevel.Error)\r\n            .build();\r\n\r\n            setConnection(newConnection)\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        if(connection){\r\n            connection.start()\r\n                .then(result => {\r\n                    console.log('Connected!')\r\n                    connection.on('ReceiveUpcomingEvents', event => {\r\n                        const updatedEvent = [...lastEvent.current]\r\n                        updatedEvent.push(event)\r\n\r\n                        setEvents(updatedEvent)\r\n                    })\r\n                })\r\n                .catch(error => console.warn('Chat.js | Error establishing connection'))\r\n        }\r\n    },[connection])\r\n\r\n\r\n    return (\r\n        <>\r\n            <h1>Hello chat</h1>\r\n            {console.log('Events',events[0])}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Chat","C:\\Users\\goles\\OneDrive - Vermantia Productions S.A\\Επιφάνεια εργασίας\\ReactProjects\\Cap-Ui\\Orchestrator\\orchestrator\\src\\index.js",[],"C:\\Users\\goles\\OneDrive - Vermantia Productions S.A\\Επιφάνεια εργασίας\\ReactProjects\\Cap-Ui\\Orchestrator\\orchestrator\\src\\BackendUrls.js",[],{"ruleId":"28","severity":1,"message":"29","line":1,"column":8,"nodeType":"30","messageId":"31","endLine":1,"endColumn":12},{"ruleId":"28","severity":1,"message":"32","line":2,"column":8,"nodeType":"30","messageId":"31","endLine":2,"endColumn":13},{"ruleId":"28","severity":1,"message":"33","line":4,"column":41,"nodeType":"30","messageId":"31","endLine":4,"endColumn":58},{"ruleId":"28","severity":1,"message":"34","line":12,"column":9,"nodeType":"30","messageId":"31","endLine":12,"endColumn":12},{"ruleId":"28","severity":1,"message":"35","line":16,"column":9,"nodeType":"30","messageId":"31","endLine":16,"endColumn":16},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'axios' is defined but never used.","'HttpTransportType' is defined but never used.","'foo' is assigned a value but never used.","'payload' is assigned a value but never used."]